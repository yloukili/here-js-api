H.util.eval("function Ei(a){var b=a.ownerDocument,b=b.documentElement||b.body.parentNode||b.body;a=a.getBoundingClientRect();return{x:a.left+(\"number\"===typeof window.pageXOffset?window.pageXOffset:b.scrollLeft),y:a.top+(\"number\"===typeof window.pageYOffset?window.pageYOffset:b.scrollTop)}}var Fi=Function(\"return this\")();function Gi(a,b,c,d,e,f,g){Gi.a.constructor.call(this,a);this.pointers=b;this.changedPointers=c;this.targetPointers=d;this.currentPointer=e;this.originalEvent=g;this.target=f}u(Gi,fc);r(\"H.mapevents.Event\",Gi);function Hi(a,b,c,d,e,f){if(isNaN(a))throw Error(\"x needs to be a number\");if(isNaN(b))throw Error(\"y needs to be a number\");if(isNaN(c))throw Error(\"pointer must have an id\");this.viewportX=a;this.viewportY=b;this.target=null;this.id=c;this.type=d;this.dragTarget=null;this.Aj=this.button=e!==z?e:-1;this.buttons=f!==z?f:0}r(\"H.mapevents.Pointer\",Hi);\nfunction Ii(a,b,c){if(isNaN(b))throw Error(\"x needs to be a number\");if(isNaN(c))throw Error(\"y needs to be a number\");a.viewportX=b;a.viewportY=c}Hi.prototype.vv=function(){return this.Aj};Hi.prototype.getLastChangedButton=Hi.prototype.vv;function Ji(a,b){a.Aj=b;a.buttons|=Hi.prototype.zp[+b]||0}function Ki(a,b){a.Aj=b;a.buttons&=~(Hi.prototype.zp[+b]||0)}Hi.prototype.zp=[1,4,2];var Li={NONE:-1,LEFT:0,MIDDLE:1,RIGHT:2};Hi.Button=Li;function Mi(a){this.da=a instanceof Array?a.slice(0):[]}m=Mi.prototype;m.clear=function(){this.da.splice(0,this.da.length)};m.length=function(){return this.da.length};m.item=function(a){return this.da[a]};m.indexOf=function(a){for(var b=this.da.length;b--;)if(this.da[b].id===a)return b;return-1};function Ni(a,b){var c=a.indexOf(b);return-1!==c?a.da[c]:null}m.remove=function(a){a=this.indexOf(a);return-1!==a?this.da.splice(a,1)[0]:null};\nfunction Oi(a,b){for(var c=a.da.length,d=[];c--;)a.da[c].type!==b&&d.push(a.da[c]);a.da=d}function Pi(a,b){for(var c=a.da.length;c--;)if(a.da[c].dragTarget===b)return!0;return!1}m.push=function(a){if(a instanceof Hi)return this.da.push(a);throw Error(\"list needs a pointer\");};m.kd=function(){return this.da};m.i=function(){return new Mi(this.da)};function Qi(a,b,c){c=c||{};if(!(a instanceof S))throw Error(\"events: map instance required\");if(!(b instanceof Array))throw Error(\"events: map array required\");zb.call(this);this.Pl=c.Pl||300;this.Ip=c.Ip||50;this.at=c.at||50;this.bt=c.bt||500;this.en=c.en||900;this.hr=c.hr||50;this.map=a;this.q=this.map.q;this.element=this.q.element;this.cm=b;this.la=new Mi;this.Ha=new Mi;this.me={};this.ia=null;this.hj=!0;this.Mh={};this.Hh={};this.Dh=null;this.Rg=w(this.Rg,this);this.Ou={pointerdown:this.Fu,pointermove:this.Gu,\npointerup:this.Hu,pointercancel:this.Eu};Ri(this)}u(Qi,zb);function Ri(a,b){for(var c,d,e=0,f=a.cm.length,e=0;e<f;e++)d=a.cm[e],c=d.C,\"function\"===typeof c&&(b?(d.target||a.element).removeEventListener(d.Aa,c):(d.target||a.element).addEventListener(d.Aa,c))}\nfunction Si(a,b,c){var d,e=a.Ou[b],f,g;if(\"function\"===typeof e)for(\"pointermove\"!==b&&(a.hj=!0),f=0,g=a.Ha.length();f<g;f++)b=a.Ha.item(f),a.element.contains(c.target)?(d=a,d=d.ia===b?b.target:0<=b.viewportX&&b.viewportX<d.q.width&&0<=b.viewportY&&b.viewportY<d.q.height?d.map.qh(b.viewportX,b.viewportY)||d.map:null):d=null,Ti(b.id,a.Mh),e.call(a,b,d,c);a.Ha.clear()}m=Qi.prototype;\nm.Hu=function(a,b,c){a.target=b;Ui(this,a,c);Vi(this,b,\"pointerup\",c,a);\"mouse\"!==a.type&&Vi(this,b,\"pointerleave\",c,a);b=this.me[a.id];var d={x:a.viewportX,y:a.viewportY},e=c.timeStamp,f=a.target,g=this.Dh;b&&b.target===f&&b.rl.distance(d)<this.at&&e-b.Mo<this.bt?(Vi(this,f,\"tap\",c,a),g&&g.target===f&&e-g.Mo<this.Pl?g.rl.distance({x:a.viewportX,y:a.viewportY})<this.Ip&&(Vi(this,f,\"dbltap\",c,a),this.Dh=null):this.Dh={target:f,rl:new F(a.viewportX,a.viewportY),Mo:c.timeStamp}):this.Dh=null;this.me=\n{};Ti(a.id,this.Hh)};function Ui(a,b,c){b===a.ia&&(Vi(a,b.dragTarget,\"dragend\",c,b),a.ia=null,Ti(b.id,a.Mh));b.dragTarget=null}m.Rg=function(a,b){var c=this;Vi(this,a.dragTarget,\"drag\",b,a);Ti(a.id,this.Mh);this.Mh[a.id]=setTimeout(function(){c.Rg(a,b)},150)};function Ti(a,b){b[a]&&(clearTimeout(b[a]),delete b[a])}\nfunction Wi(a,b,c){var d=b.target,e=new F(b.viewportX,b.viewportY),f=b.id;Ti(f,a.Hh);a.Hh[f]=setTimeout(function(){d&&d===b.target&&e.distance({x:b.viewportX,y:b.viewportY})<a.hr&&(Vi(a,d,\"longpress\",c,b),delete a.me[b.id])},a.en)}\nm.Gu=function(a,b,c){var d=a.dragTarget,e=a.id,f;f=a.target;a.target=b;f!==b&&(Vi(this,f,\"pointerleave\",c,a),Vi(this,b,\"pointerenter\",c,a));d?this.ia?this.Rg(a,c):this.hj?this.hj=!1:(this.ia=a,Vi(this,d,\"dragstart\",c,a),this.Rg(a,c),delete this.me[e],this.hj=!0):(!this.ia||this.ia&&this.ia.dragTarget!==b&&this.ia.dragTarget!==this.map)&&Vi(this,b,\"pointermove\",c,a)};\nm.Fu=function(a,b,c){var d=!(/^(?:mouse|pen)$/.test(a.type)&&0!==c.button),e;b&&(a.target=b,this.me[a.id]={rl:new F(a.viewportX,a.viewportY),target:a.target,Mo:c.timeStamp},\"mouse\"!==a.type&&Vi(this,b,\"pointerenter\",c,a),e=Vi(this,b,\"pointerdown\",c,a),!this.ia&&d&&(b.draggable&&!Pi(this.la,b)?a.dragTarget=b:!this.map.draggable||e.defaultPrevented||Pi(this.la,this.map)||(a.dragTarget=this.map)),Wi(this,a,c))};\nm.Eu=function(a,b,c){a.target=null;b?(Vi(this,b,\"pointerleave\",c,a),Vi(this,b,\"pointercancel\",c,a)):Vi(this,this.map,\"pointercancel\",c,a);Ui(this,a,c);this.me={};Ti(a.id,this.Hh)};function Vi(a,b,c,d,e){var f;if(b&&\"function\"===typeof b.dispatchEvent){f=Gi;var g=a.la.kd(),h=a.Ha.kd();a=a.la;var k,l=a.da.length,n=[];for(k=0;k<l;k++)a.da[k].target===b&&n.push(a.da[k]);f=new f(c,g,h,n,e,b,d);e.button=/^(?:longpress|(?:dbl)?tap|pointer(?:down|up))$/.test(c)?e.Aj:Li.NONE;b.dispatchEvent(f)}return f}\nm.c=function(){Ri(this,!0);this.la.clear();this.Ha.clear();var a=this.Mh,b;for(b in a)Ti(b,a);var a=this.Hh,c;for(c in a)Ti(c,a);this.ia=this.me=this.Dh=this.map=this.Ha=this.la=this.cm=this.aa=null;zb.prototype.c.call(this)};function Xi(a){this.Af=w(this.Af,this);Qi.call(this,a,[{Aa:\"touchstart\",C:this.Af},{Aa:\"touchmove\",C:this.Af},{Aa:\"touchend\",C:this.Af},{Aa:\"touchcancel\",C:this.Af}]);this.gt={touchstart:\"pointerdown\",touchmove:\"pointermove\",touchend:\"pointerup\",touchcancel:\"pointercancel\"};this.Jq=(a=(a=a.lc)?a.f():null)?Array.prototype.slice.call(a.querySelectorAll(\"a\"),0):[]}u(Xi,Qi);\nXi.prototype.Af=function(a){var b=a.touches,c=this.la.length(),d;if(\"touchstart\"===a.type&&c>=b.length){c=this.la.i();for(d=b.length;d--;)c.remove(b[d].identifier);for(d=c.length();d--;)this.la.remove(c.item(d).id);this.Ha=c;Si(this,\"pointercancel\",a);this.Ha.clear()}if(this.gt[a.type]){b=Ei(this.q.element);c=a.type;d=a.changedTouches;var e=d.length,f,g,h,k,l,n;this.Ha.clear();for(n=0;n<e;n++)if(h=d[n],l=Ni(this.la,h.identifier),f=h.pageX-b.x,g=h.pageY-b.y,l)if(\"touchmove\"===c){if(h=Math.abs(l.viewportX-\nf),k=Math.abs(l.viewportY-g),1<h||1<k||1===h&&1===k)Ii(l,f,g),this.Ha.push(l)}else\"touchend\"===c&&(this.la.remove(l.id),this.Ha.push(l),Ki(l,Li.LEFT));else l=new Hi(f,g,h.identifier,\"touch\",Li.LEFT,1),this.la.push(l),this.Ha.push(l);Si(this,this.gt[a.type],a);-1===this.Jq.indexOf(a.target)&&a.preventDefault()}};Xi.prototype.c=function(){this.Jq=null;Qi.prototype.c.call(this)};function Yi(a){var b=[],b=Zi(this);(navigator.pointerEnabled||navigator.msPointerEnabled)&&b.push({Aa:\"MSHoldVisual\",C:\"prevent\"});Qi.call(this,a,b)}u(Yi,Qi);function Zi(a){var b=navigator.pointerEnabled,c,d,e=[];a.Jm=w(a.Jm,a);\"MSPointerDown MSPointerMove MSPointerUp MSPointerCancel MSPointerOut MSPointerOver\".split(\" \").forEach(function(f){c=f.toLowerCase().replace(/ms/g,\"\");d=b?c:f;e.push({Aa:d,C:a.Jm,target:\"MSPointerUp\"===f||\"MSPointerMove\"===f?window:null})});return e}\nvar $i={2:\"touch\",3:\"pen\",4:\"mouse\"};Yi.prototype.Kl=function(a,b){var c;c=a.pointerType;\"number\"===typeof c&&(c=$i[c]);c=new Hi(b.x,b.y,a.pointerId,c,a.button,a.buttons);this.la.push(c);return c};\nYi.prototype.Jm=function(a){var b=navigator.xx?a.type:a.type.toLowerCase().replace(/ms/g,\"\"),c=Ei(this.element),d=Ni(this.la,a.pointerId),e=a.pageX-c.x,c=a.pageY-c.y,f=$i[a.pointerType]||a.pointerType;d||b in{pointerup:1,pointerout:1,pointercancel:1}||\"touch\"===f&&\"pointerdown\"!==b||(d=this.Kl(a,{x:e,y:c}));d&&(b in{pointerup:1,pointercancel:1}?(\"touch\"===f&&this.la.remove(d.id),Ki(d,a.button)):\"pointerdown\"===b&&(\"touch\"===a.pointerType&&(Oi(this.la,\"mouse\"),Oi(this.la,\"pen\")),Ji(d,a.button)),this.Ha.push(d),\n\"pointermove\"!==b?(Ii(d,e,c),Si(this,\"pointerout\"===b||\"pointerover\"===b?\"pointermove\":b,a)):d.viewportX===e&&d.viewportY===c||a.target===document.documentElement||(Ii(d,e,c),Si(this,b,a)));this.Ha.clear()};function aj(a,b,c,d){aj.a.constructor.call(this,\"contextmenu\");this.items=[];this.viewportX=a;this.viewportY=b;this.target=c;this.originalEvent=d}u(aj,fc);r(\"H.mapevents.ContextMenuEvent\",aj);function bj(a){this.Gm=w(this.Gm,this);this.Im=w(this.Im,this);this.Hm=w(this.Hm,this);this.kk=!1;this.of=-1;this.Zq=0;bj.a.constructor.call(this,a,[{Aa:\"contextmenu\",C:this.Gm},{target:a,Aa:\"longpress\",C:this.Im},{target:a,Aa:\"dbltap\",C:this.Hm}])}u(bj,Qi);m=bj.prototype;m.Im=function(a){var b=a.currentPointer;\"touch\"===b.type&&1===a.pointers.length&&cj(this,b.viewportX,b.viewportY,a.originalEvent,a.target)};m.Hm=function(a){\"touch\"===a.currentPointer.type&&(this.Zq=Date.now())};\nm.Gm=function(a){var b=this;-1===this.of?this.of=setTimeout(function(){var c=Ei(b.element),d=a.pageX-c.x,c=a.pageY-c.y;b.of=-1;cj(b,d,c,a)},this.Pl):(clearInterval(this.of),this.of=-1);a.preventDefault()};function cj(a,b,c,d,e){var f=a.map;e=e||f.qh(b,c)||f;var g=Date.now()-a.Zq;!a.kk&&g>a.en&&(a.kk=!0,e.dispatchEvent(new aj(b,c,e,d)),vg(f.f(),a.ap,a.Np,!1,a))}m.ap=[\"mousedown\",\"touchstart\",\"pointerdown\",\"wheel\"];\nm.Np=function(){this.kk&&(this.kk=!1,this.map.dispatchEvent(new fc(\"contextmenuclose\",this.map)))};m.c=function(){var a=this.map.f();clearInterval(this.of);a&&xg(a,this.ap,this.Np,!1,this);Qi.prototype.c.call(this)};function dj(a,b,c,d,e){dj.a.constructor.call(this,\"wheel\");this.delta=a;this.viewportX=b;this.viewportY=c;this.target=d;this.originalEvent=e}u(dj,fc);r(\"H.mapevents.WheelEvent\",dj);function ej(a){var b=\"onwheel\"in document;this.Lt=b;this.It=(b?\"d\":\"wheelD\")+\"elta\";this.Km=w(this.Km,this);ej.a.constructor.call(this,a,[{Aa:(b?\"\":\"mouse\")+\"wheel\",C:this.Km}])}u(ej,Qi);ej.prototype.normalize=function(a,b,c){var d=this.It,e=a[d+(d+\"Y\"in a?\"Y\":\"\")],f,g,h;e&&(h=Math.abs,f=h(e),e=(!(g=a[d+\"X\"])||3<=f/h(g))&&(!(g=a[d+\"Z\"])||3<=f/h(g))?((0<e)-(0>e))*(this.Lt?1:-1):0);return new dj(e,b,c,null,a)};\nej.prototype.Km=function(a){var b=Ei(this.element);a=this.normalize(a,a.pageX-b.x,a.pageY-b.y);a.delta&&(a.target=this.map.Ba(a.viewportX,a.viewportY)[0],a.target&&\"function\"===typeof a.target.dispatchEvent&&a.target.dispatchEvent(a),a.defaultPrevented||this.map.dispatchEvent(a))};function fj(a){var b=window;this.ge=w(this.ge,this);Qi.call(this,a,[{Aa:\"mousedown\",C:this.ge},{Aa:\"mousemove\",C:this.ge,target:b},{Aa:\"mouseup\",C:this.ge,target:b},{Aa:\"mouseover\",C:this.ge},{Aa:\"mouseout\",C:this.ge},{Aa:\"dragstart\",C:this.ik}])}u(fj,Qi);fj.prototype.Kl=function(a,b){var c=new Hi(b.x,b.y,1,\"mouse\");this.la.push(c);return c};\nfj.prototype.ge=function(a){var b=a.type,c=Ei(this.element),d={x:a.pageX-c.x,y:a.pageY-c.y},c=this.la.item(0)||this.Kl(a,d);this.Ha.push(c);Ii(c,d.x,d.y);/^mouse(?:move|over|out)$/.test(b)?Si(this,\"pointermove\",a):(/^mouse(down|up)$/.test(b)&&(d=a.which-1,\"up\"===Fi.RegExp.$1?Ki(c,d):Ji(c,d)),Si(this,b.replace(\"mouse\",\"pointer\"),a));this.Ha.clear()};fj.prototype.ik=function(a){a.preventDefault()};function gj(a){if(-1!==hj.indexOf(a))throw Error(\"InvalidArgument: map is already in use\");this.b=a;hj.push(a);this.Dp=this.pt=this.qn=this.Ko=null;navigator.msPointerEnabled||navigator.pointerEnabled?this.Ko=new Yi(this.b):(this.Ko=new Xi(this.b),this.qn=new fj(this.b));this.pt=new ej(this.b);this.Dp=new bj(this.b);this.b.hd(this.e,this);zb.call(this)}u(gj,zb);r(\"H.mapevents.MapEvents\",gj);var hj=[];\ngj.prototype.e=function(){this.b=null;this.Ko.e();this.pt.e();this.Dp.e();this.qn&&this.qn.e();hj.splice(hj.indexOf(this.b),1);zb.prototype.e.call(this)};gj.prototype.dispose=gj.prototype.e;gj.prototype.fv=function(){return this.b};gj.prototype.getAttachedMap=gj.prototype.fv;function ij(a,b){if(-1!==jj.indexOf(a))throw Error(\"InvalidArgument: events are already used\");var c=b||{},d;zb.call(this);this.b=d=a.b;this.Hw=a;jj.push(a);this.b.draggable=!0;this.kb=c.kinetics||{duration:600,Wl:rg};this.Vp=7;this.enable(c.enabled||this.Vp);c=S.EngineType;this.q=this.b.q;this.Ze=this.q.element;this.M=this.b.M;this.Rn=c.P2D;this.Ze.style.msTouchAction=\"none\";this.Ze.style.Uy=\"none\";d.addEventListener(\"dragstart\",this.ik,!1,this);d.addEventListener(\"drag\",this.Kr,!1,this);d.addEventListener(\"dragend\",\nthis.Lr,!1,this);d.addEventListener(\"wheel\",this.Or,!1,this);d.addEventListener(\"dbltap\",this.Jr,!1,this);d.addEventListener(\"tap\",this.Nr,!1,this);d.addEventListener(\"pointermove\",this.$r,!1,this);wg(this.Ze,\"contextmenu\",this.Ir,!1,this);a.hd(this.e,this)}u(ij,zb);r(\"H.mapevents.Behavior\",ij);var jj=[];ij.prototype.ba=0;ij.DRAGGING=1;ij.WHEELZOOM=2;ij.DBLTAPZOOM=4;m=ij.prototype;\nm.ik=function(a){var b=a.pointers;a=this.q;var c=b[0],b=b[1]||{};this.ba&1&&(a.startInteraction(17,this.kb),a.interaction(c.viewportX,c.viewportY,b.viewportX,b.viewportY),this.ba&2&&this.Gi(c.viewportX,c.viewportY))};m.Kr=function(a){var b=a.pointers[0],c=a.pointers[1]||{};this.ba&1&&(this.q.interaction(b.viewportX,b.viewportY,c.viewportX,c.viewportY),a.originalEvent.preventDefault())};m.Lr=function(){this.ba&1&&this.q.endInteraction(!this.kb)};\nm.Gi=function(a,b){var c,d;this.an&&(c=this.b.getZoom(),d=Math[0>this.an?\"ceil\":\"floor\"](c),c!==d&&(this.an=null,this.zoom(c,d,a,b)))};m.$t=0.006;m.zoom=function(a,b,c,d){var e=this.b.M;if(isNaN(+a))throw Error(\"start zoom needs to be a number\");if(isNaN(+b))throw Error(\"to zoom needs to be a number\");0!==+b-+a&&(e.startControl(null,c,d),e.control(0,0,this.$t),e.endControl(!0,function(a){a.zoom=b}))};\nm.Or=function(a){var b,c,d,e;this.ba&2&&(b=a.delta,c=this.b.getZoom(),e=Math[0>b?\"ceil\":\"floor\"](c-b),d=this.b,d.ib().type===this.Rn?(this.zoom(c,e,a.viewportX,a.viewportY),this.an=b):(c=this.b.M.Gc(),c.fov+=16*b,d.M.Zc(c)),a.originalEvent.preventDefault())};m.Nr=function(a){a=a.currentPointer;this.Rn!==this.b.ib().type&&(a=this.b.Qe(a.viewportX,a.viewportY),this.b.M.Zc(a))};m.$r=function(a){a=a.currentPointer;this.b.ib().setPointer(a.viewportX,a.viewportY)};\nm.Jr=function(a){var b=a.currentPointer,c=this.b.getZoom(),d=a.currentPointer.type;this.Rn===this.b.ib().type&&(a=\"mouse\"===d?0===a.originalEvent.button?-1:1:0<a.pointers.length?1:-1,a=Math[0>a?\"ceil\":\"floor\"](c-a),this.ba&4&&this.zoom(c,a,b.viewportX,b.viewportY))};m.Ir=function(a){return this.ba&4?(a.preventDefault(),!1):!0};\nm.e=function(){var a=this.b;a&&(a.draggable=!1,a.removeEventListener(\"dragstart\",this.ik,!1,this),a.removeEventListener(\"drag\",this.Kr,!1,this),a.removeEventListener(\"dragend\",this.Lr,!1,this),a.removeEventListener(\"wheel\",this.Or,!1,this),a.removeEventListener(\"tap\",this.Nr,!1,this),a.removeEventListener(\"dbltap\",this.Jr,!1,this),a.removeEventListener(\"pointermove\",this.$r,!1,this),this.b=null);this.Ze&&(this.Ze.style.msTouchAction=\"\",xg(this.Ze,\"contextmenu\",this.Ir,!1,this),this.Ze=null);this.kb=\nthis.q=null;jj.splice(jj.indexOf(this.Hw),1);zb.prototype.e.call(this)};ij.prototype.dispose=ij.prototype.e;ij.prototype.disable=function(a){this.q.endInteraction(!0);a?this.ba&a&&(this.ba-=a,a&1&&(this.b.draggable=!1)):(this.ba=0,this.b.draggable=!1)};ij.prototype.disable=ij.prototype.disable;ij.prototype.enable=function(a){a?this.ba&a||(this.ba+=a,a&1&&(this.b.draggable=!0)):(this.ba=this.Vp,this.b.draggable=!0)};ij.prototype.enable=ij.prototype.enable;\nij.prototype.isEnabled=function(a){if(isNaN(a))throw Error(\"behavior: number required\");return!!(this.ba&a)};ij.prototype.isEnabled=ij.prototype.isEnabled;r(\"H.mapevents.buildInfo\",function(){return xi(\"mapsjs-mapevents\",\"0.12.2\",\"8f389e9\")});\n");
